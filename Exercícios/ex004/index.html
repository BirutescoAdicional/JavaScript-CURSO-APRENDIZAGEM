<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisador de Números</title>
    <style>
        select {
            width: 200px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Analisador de números</h1>
    </header>
    <section>
        <div>
            <p>
                <label for="inum">Número (entre 1 e 100): </label> <input type="number" name="num" id="inum">

                <input type="button" value="Adicionar" onclick="adicionar()">
            </p>

            <select name="valores" id="ivalores" size="10">
                <option value=""></option>
            </select>

            <p>
                <input type="button" value="Finalizar" onclick="finalizar()">
            </p>
        </div>

        <div id="res">

        </div>
    </section>
    <footer>
        <p>&copy; Curso em vídeo</p>
    </footer>

    <script>


           var valor = document.getElementById('inum')
           var add = document.getElementById('ivalores')
           var res = document.querySelector('div#res')
           var valores = [];

            function entendiNada(n) {
                if (Number(n) >= 1 && Number(n) <= 100) {
                    return true
                } else {
                    return false
                }
            }

            function entendiNada2(n, l) {
                if (l.indexOf(Number(n)) != -1) {
                    return true
                } else {
                    return false
                }
            }

            function adicionar() {
                if (entendiNada(valor.value) && !entendiNada2(valor.value, valores)) {
                  valores.push(Number(valor.value))
                  let item = document.createElement('option')
                  item.text = `Número ${valor.value} adicionado.`;
                  add.appendChild(item)
                  res.innerHTML = '';
                } else {
                    window.alert('Erro')
                }
                valor.value = '';
                valor.focus()
            }

            function finalizar() {
                if (valores.length == 0) {
                    window.alert(`Preencha o espaço vázio`)
                } else {
                    let quant = valores.length
                    let maiorNum = valores[0]
                    let menorNum = valores[0]
                    let soma = 0
                    let media = 0
                    for (let pos in valores) {
                        soma += valores[pos]
                        if (valores[pos] > maiorNum)
                            maior = valores[pos]
                        
                        if (valores[pos] < menorNum) 
                            menor = valores[pos]
                        
                    }
                    media = soma / quant

                    res.innerHTML = '';
                    res.innerHTML += `<p>Quantidade de Números: ${quant}</p>`
                    res.innerHTML += `<p>Maior número: ${maiorNum}</p>`
                    res.innerHTML += `<p>Menor número: ${menorNum}</p>`
                    res.innerHTML += `<p>Soma dos números: ${soma}</p>`
                    res.innerHTML += `<p>Média dos números: ${media}</p>`
                }
            }

        </script>
</body>
</html>